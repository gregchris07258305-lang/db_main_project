# [제안서] 추천 시스템 및 유료화 모델을 위한 DB 스키마 변경(안)

## 1. 개요
개인화된 추천 시스템 도입 및 BM(유료화) 설계를 위해 데이터베이스 구조를 일부 확장하고자 합니다. 이 변경을 통해 **관심사 기반 무료 추천**과 **프리미엄 유료 기능(유사 유저 추천, 리마인드)**을 구분하여 제공할 수 있습니다.

## 2. 변경 상세

### A. 신규 테이블 도입: `user_actions` (유저 행동 로그)
유저의 모든 행동(정책 조회, 즐겨찾기 등)을 기록하여 추천 알고리즘의 원천 데이터로 활용합니다.

| 컬럼명 | 타입 | 설명 | 활용 목적 |
| :--- | :--- | :--- | :--- |
| **`id`** | Integer | 고유 번호 | 데이터 관리 (PK) |
| **`user_id`** | Integer | **기존 `users` 테이블의 `id`** | 유저별 취향 분석 (Foreign Key) |
| **`policy_id`** | Integer | **기존 `being_test` (정책) 테이블의 `id`** | 정책 인기도 및 연관성 분석 (Foreign Key) |
| **`action_type`** | String | **어떤 행동?** (직접 생성) | 가중치 산정 (예: 조회 < 찜하기) |
| **`timestamp`** | DateTime | **언제?** | 최신 관심사 우선 순위 반영 |

### B. 기존 테이블 수정: `users` (회원 정보)
유료 멤버십 기능을 위해 회원 등급을 관리하는 컬럼을 하나 추가합니다. 별도의 복잡한 테이블 생성 없이 효율적으로 관리할 수 있습니다.

| 컬럼명 | 타입 | 추가 여부 | 설명 |
| :--- | :--- | :--- | :--- |
| **`subscription_level`** | String | **[신규]** | `'free`' (기본값) 또는 `'premium'` |

## 3. 기대 효과
1.  **데이터 자산화**: 유저의 행동 데이터가 쌓일수록 추천의 정확도가 높아지는 '데이터 해자(Data Moat)' 구축
2.  **단계별 수익화**: 
    - **Free**: 기본 관심사 추천으로 Lock-in 효과
    - **Premium**: '나와 비슷한 상황의 유저가 본 정책', '마감 3일 전 알림' 등 고부가 가치 기능 제공

---
작성일: 2025-12-30
